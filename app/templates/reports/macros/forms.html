{% from '/macros/forms.html' import date_range, spinner_button %}

{% macro form_inj_loss(report, button_text, button_func) -%}
    {{ date_range(report.path, button_text, button_func) }}
    <select class="form-select mb-3" id="{{ report.path }}Select">
        {% for option in report.loss_mode %}
            <option
                value="{{ option.value }}"
                {% if option.selected %}selected{% endif %}
            >
                {{ option.text }}
            </option>
        {% endfor %}
    </select>
    {{ spinner_button(report.path, button_text, button_func) }}
{%- endmacro %}

{% macro form_matrix(report, button_text, button_func) -%}
    {{ date_range(report.path, button_text, button_func) }}
    <div class="form-floating mb-3">
        <input type="date" class="form-control" id="{{ report.path }}Mer" name="mer" placeholder/>
        <label for="{{ report.path }}Mer">На дату МЭР</label>
    </div>
    <div class="form-floating mb-3">
        <input type="number" class="form-control" id="{{ report.path }}Base" name="base" placeholder/>
        <label for="{{ report.path }}Base">Базовый период</label>
    </div>
    <div class="form-floating mb-3">
        <input type="number" class="form-control" id="{{ report.path }}Pred" name="pred" placeholder/>
        <label for="{{ report.path }}Pred">Прогнозный период</label>
    </div>
    <select class="form-select mb-3" id="{{ report.path }}Excludes" multiple size="4">
        {% for option in report.excludes %}
            <option
                value="{{ option.value }}"
                {% if option.selected %}selected{% endif %}
                {% if option.value == "--" %}disabled{% endif %}
            >
                {{ option.text }}
            </option>
        {% endfor %}
    </select>
    {{ spinner_button(report.path, button_text, button_func) }}
{%- endmacro %}
